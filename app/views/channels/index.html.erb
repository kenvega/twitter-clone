<div class="col">
  <div class="mb-5">
    <%= link_to :back, class: "fs-4 text-decoration-none text-black fw-semibold" do %>
      <%= image_tag "back.svg", size: "28x28", class: "me-4" %>
      <span style="position: relative; top: 2px;">Messages</span>
    <% end %>
  </div>

  <%# The temporal new 'subscription' (it's just a user instance in reality) for the selected user we tried to message %>
  <% if @new_subscription.present? %>
    <div>
      <div class="d-flex py-3 px-3">
        <div class="flex-shrink-0">
          <% if @new_subscription.avatar.present? %>
            <%= image_tag @new_subscription.avatar, size: "48x48", class: "rounded-circle" %>
          <% else %>
            <%= image_tag "profile.svg", size: "48x48", class: "rounded-circle" %>
          <% end %>
        </div>
        <div class="flex-grow-1 ms-3">
          <div>
            <span class="fw-bold mr-3"><%= @new_subscription.display_name %></span>
            <span class="text-muted"><%= @new_subscription.username %></span>
          </div>
        </div>
      </div>
    </div>
  <% end %>


</div>

<%# The messages of the selected channel and the input to add more messages %>
<div class="col-6">
  <div class="vh-100 position-relative">
    <div class="position-absolute w-100 bottom-0">
      <%= form_with model: Message.new, url: messages_path do |f| %>
        <div class="input-group mb-3">
          <% if @new_subscription.present? %>
            <%= hidden_field_tag :user_id, @new_subscription.id %>
          <% end %>
          <%= f.text_field :body, placeholder: "Type your message", class: "form-control" %>
          <%= button_tag class: "btn btn-outline-secondary" do %>
            <%= image_tag "message.svg", size: "17x17" %>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</div>
